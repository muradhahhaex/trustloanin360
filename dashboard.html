<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Trustloan360</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background: #f5f5f5;
      animation: fadeInFromTop 3s ease-out forwards;
    }

    @keyframes fadeInFromTop {
      0% {
        opacity: 0;
        transform: translateY(-20px);
      }
      100% {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* --- আগের পেজের হেডার স্টাইল শুরু --- */
    .header {
      background-color: #66bb6a;
      color: #fff;
      padding: 10px 16px;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .profile-info {
      display: flex;
      align-items: center;
    }

    .profile-logo {
      width: 50px;
      height: 50px;
      background-color: #388e3c;
      border-radius: 50%;
      overflow: hidden;
      display: flex;
      justify-content: center;
      align-items: center;
      margin-right: 10px;
    }
     .profile-logo img {
        display: block;
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 50%;
     }

    .username-balance {
      display: flex;
      flex-direction: column;
    }

    .username {
      font-weight: bold;
      font-size: 14px;
    }

    .balance-button {
      font-size: 12px;
      padding: 4px 8px;
      background-color: #ffffffaa;
      color: #2e7d32;
      border-radius: 5px;
      border: none;
      cursor: pointer;
      margin-top: 4px;
    }

    .home-button, .logout-button {
      animation: pulseHeader 2s infinite;
      transition: transform 0.2s ease-in-out;
      text-decoration: none;
      color: white;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .home-button:hover,
    .logout-button:hover {
      transform: scale(1.1);
      box-shadow: 0 0 10px #66bb6a;
    }

    @keyframes pulseHeader {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }

    .home-button {
      background: linear-gradient(to right, #2e7d32, #1b5e20);
      width: 40px;
      height: 40px;
      border-radius: 50%;
      font-size: 20px;
      cursor: pointer;
       margin-right: 10px;
    }

    .logout-button {
      background: linear-gradient(to right, #2e7d32, #388e3c);
      padding: 10px;
      border-radius: 8px;
      font-size: 18px;
      cursor: pointer;
    }

     .header .right-icons {
         display: flex;
         align-items: center;
     }
    /* --- আগের পেজের হেডার স্টাইল শেষ --- */


    .marquee-strip {
      background-color: #d4edda;
      display: flex;
      align-items: center;
      height: 40px; /* উচ্চতা পরিবর্তন করা হয়েছে */
      padding: 0 10px;
      border-bottom: 1px solid #c3e6cb;
      position: relative;
      overflow: hidden; /* Ensure text is clipped outside the container */
    }

    .marquee-strip i {
      margin-right: 10px;
      font-size: 25px;
      color: white;
      background-color: #146a3c;
      padding: 10px;
      border-radius: 50%;
      animation: bellRing 2s infinite ease-in-out;
      transform-origin: top center;
      z-index: 2; /* To ensure bell stays on top of text */
      flex-shrink: 0; /* Prevent bell from shrinking */
    }

    .marquee-content {
      white-space: nowrap;
      display: inline-block;
      position: absolute;
      left: 100%; /* Start off-screen to the right */
      top: 25%; /* উল্লম্বভাবে মাঝখানে রাখার জন্য */
      transform: translateY(-25%); /* উল্লম্বভাবে মাঝখানে রাখার জন্য */
      font-weight: bold;
      color: #1e4620;

      font-size: 20px; /* লেখার আকার আরও বড় করা হয়েছে */
      animation: scroll-right 25s linear infinite; /* Changed animation name to scroll-right */
    }

    @keyframes bellRing {
      0% { transform: rotate(0); }
      10% { transform: rotate(-15deg); }
      20% { transform: rotate(10deg); }
      30% { transform: rotate(-10deg); }
      40% { transform: rotate(7deg); }
      50% { transform: rotate(0); }
      100% { transform: rotate(0); }
    }

    /* Updated animation for right-to-left scroll */
    @keyframes scroll-right {
      0% {
        transform: translateX(0%); /* Start at the right edge of its container */
      }
      100% {
        transform: translateX(calc(-100% - 65px)); /* Scroll left past the bell icon */
      }
    }


    .section {
      background: white;
      margin: 10px;
      padding: 15px;
      border-radius: 10px;
      box-shadow: 0 0 5px rgba(0,0,0,0.05);
      text-align: center;
      border: 1px solid #ccc;
      position: relative;
    }

    .section h2, .section h3 {
      color: #1e824c;
      margin: 10px 0;
    }

    .amount-display {
      font-size: 30px;
      font-weight: bold;
      color: #2e7d32;
      background: #e8f5e9;
      padding: 10px 20px;
      border-radius: 12px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      display: inline-block;
      margin-top: 15px;
      transition: transform 0.3s ease;
    }

    .amount-display:hover {
      transform: scale(1.05);
    }

    input[type=range] {
      width: 85%;
      appearance: none;
      height: 8px;
      border-radius: 5px;
      background: linear-gradient(90deg, #66bb6a, #43a047);
      outline: none;
      margin-top: 20px;
    }

    input[type=range]::-webkit-slider-thumb {
      appearance: none;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: #2e7d32;
      cursor: pointer;
      box-shadow: 0 0 5px rgba(0,0,0,0.3);
    }

    .loan-options {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      margin-top: 10px;
    }

    .loan-options button {
      background: #1e824c;
      color: white;
      padding: 10px 15px;
      margin: 5px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 6px;
      transition: background 0.3s ease, box-shadow 0.3s ease;
    }

    .loan-options button.active {
      background: #0e5a2e;
      box-shadow: 0 0 5px #0e5a2e;
      color: white;
      border: none;
    }

    .loan-terms {
      margin-top: 15px;
    }

    .loan-terms button {
      background: #b2dfdb;
      margin: 5px;
      padding: 8px 15px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-weight: bold;
      color: #146a3c;
      transition: background 0.3s ease, transform 0.2s ease;
    }

    .loan-terms button:hover {
      background: #9bd0c9;
      transform: translateY(-2px);
    }

    .loan-terms button.active {
      background: #146a3c;
      color: white;
    }

    .loan-details-section {
      max-height: 0;
      overflow: hidden;
      opacity: 0;
      transition: max-height 0.7s ease-in-out, opacity 0.7s ease-in-out;
      margin-top: 20px;
      background: #e8f5e9;
      border: 1px solid #c3e6cb;
      border-radius: 10px;
      padding: 15px 15px 5px 15px;
    }

    .loan-details-section.show {
      max-height: 300px;
      opacity: 1;
    }

    .loan-detail-item {
      padding: 5px 0;
      margin: 5px auto;
      text-align: center;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 15px;
      color: #333;
      width: 90%;
      max-width: 400px;
    }

    .loan-detail-item span:first-child {
      font-weight: normal;
      color: #1e824c;
      margin-right: 5px;
    }

    .loan-detail-item span:last-child {
      font-weight: bold;
    }

    .apply-btn {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 8px;
      width: 90%;
      margin: 10px auto 20px auto;
      padding: 15px;
      background: linear-gradient(45deg, #00c853, #2e7d32);
      color: white;
      font-size: 20px;
      font-weight: bold;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      animation: pulseTrustloan 2s infinite;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .apply-btn:hover {
      transform: scale(1.05);
      box-shadow: 0 0 15px rgba(0, 200, 83, 0.6);
    }

    @keyframes pulseTrustloan {
      0% { transform: scale(1); }
      50% { transform: scale(1.04); }
      100% { transform: scale(1); }
    }

    /* নতুন স্লাইডার CSS */
    .custom-slider { /* class name changed to custom-slider for clarity */
      width: 100%; /* Full width */
      height: 180px; /* Increased height for better visibility */
      margin: 0; /* Remove margin to span full width */
      position: relative;
      overflow: hidden;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      background-color: #f0f0f0; /* Fallback background */
    }

    .custom-slider .slides-wrapper { /* class name changed to slides-wrapper */
      display: flex;
      height: 100%;
      transition: transform 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94); /* Smoother transition */
    }

    .custom-slider .slide-item {
      min-width: 100%;
      height: 100%;
      background-size: cover;
      background-position: center;
      flex-shrink: 0;
      position: relative; /* Needed for text overlay */
    }

    /* Styles for the text inside the slider */
    .slide-text-container {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      overflow: hidden;
      display: flex;
      align-items: center;
      background: rgba(0, 0, 0, 0.4); /* Semi-transparent overlay for text readability */
    }

    .slide-text {
      color: white;
      font-size: 1.2em;
      font-weight: bold;
      white-space: nowrap;
      padding: 0 10px;
      animation: revealText 15s linear infinite; /* Changed animation here */
    }

    /* Updated animation for text to scroll right-to-left */
    @keyframes revealText {
      0% {
        transform: translateX(100%); /* Start off-screen to the right */
      }
      100% {
        transform: translateX(-100%); /* Scroll left off-screen */
      }
    }


    .custom-slider .slider-controls { /* class name changed to slider-controls */
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      width: 100%;
      display: flex;
      justify-content: space-between;
      padding: 0 15px; /* Larger padding */
      box-sizing: border-box;
      z-index: 10;
    }

    /* স্লাইডার এরো আইকন স্টাইল */
    .custom-slider .control-arrow { /* class name changed to control-arrow */
      background-color: rgba(0, 0, 0, 0.5); /* Semi-transparent background */
      color: white; /* White arrows */
      border: none;
      padding: 10px 15px; /* Larger clickable area */
      cursor: pointer;
      border-radius: 5px; /* Slightly rounded corners */
      font-size: 1.5em; /* Larger arrows */
      transition: background-color 0.3s ease;
    }

    .custom-slider .control-arrow:hover {
      background-color: rgba(0, 0, 0, 0.7);
    }

    .custom-slider .pagination-dots {
      position: absolute;
      bottom: 10px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 8px; /* More spacing between dots */
      z-index: 10;
    }

    /* স্লাইডার ডট স্টাইল */
    .custom-slider .dot {
      width: 10px; /* Larger dots */
      height: 10px;
      background-color: rgba(255, 255, 255, 0.7);
      border-radius: 50%;
      cursor: pointer;
      border: 1px solid rgba(0,0,0,0.2);
      transition: background-color 0.3s ease, transform 0.3s ease;
    }

    .custom-slider .dot.active {
      background-color: #66bb6a; /* Green for active dot */
      transform: scale(1.3); /* Active dot stands out more */
      border-color: #2e7d32;
    }

    .features {
      display: flex;
      justify-content: space-around;
      flex-wrap: wrap;
      text-align: center;
    }

    /* Deposit লিঙ্ক সহ অন্যান্য আইটেমগুলোর জন্য নতুন ক্লাস */
    .features .feature-item {
      width: 30%;
      margin: 10px;
      text-decoration: none;
      color: inherit;
      display: block;
    }

    .features .feature-item i {
      font-size: 28px;
      margin-bottom: 5px;
      color: #1e824c;
    }

    .contact {
      display: flex;
      justify-content: center;
      gap: 20px;
      flex-wrap: nowrap;
      margin-top: 10px;
    }

    .contact a {
      width: 45px;
      height: 45px;
      display: flex;
      justify-content: center;
      align-items: center;
      border-radius: 50%;
      color: white;
      font-size: 20px;
      animation: shake 1.5s infinite;
      text-decoration: none;
    }

    @keyframes shake {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-3px); }
    }

    .contact .tiktok { background: #000000; }
    .contact .whatsapp { background: #25d366; }
    .contact .youtube { background: #FF0000; }
    .contact .telegram { background: #0088cc; }

    .partners {
      display: flex;
      justify-content: space-around;
      flex-wrap: wrap;
      text-align: center;
    }

    .partners div {
      margin: 10px;
      text-align: center;
    }

    .partners img {
      height: 40px;
      display: block;
      margin: 0 auto 5px;
    }

    .partners div a {
      text-decoration: none;
      color: inherit;
      display: inline-block;
    }

    footer {
      background: #146a3c;
      color: white;
      text-align: center;
      padding: 15px 10px;
      margin-top: 20px;
      font-size: 14px;
    }

    /* Custom Alert Popup Styles */
    .custom-alert-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 1000;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;
    }

    .custom-alert-overlay.show {
        opacity: 1;
        visibility: visible;
    }

    .custom-alert-box {
        background-color: #dc3545;
        color: white;
        padding: 30px 40px;
        border-radius: 10px;
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
        max-width: 90%;
        width: 450px;
        text-align: center;
        position: absolute;
        transform: translate(-50%, -50%) translateY(-20px);
        opacity: 0;
        animation: slideInAlert 0.4s forwards cubic-bezier(0.68, -0.55, 0.27, 1.55);
    }

    .custom-alert-overlay.show .custom-alert-box {
        opacity: 1;
        transform: translate(-50%, -50%) translateY(0);
    }

    .custom-alert-box .close-btn {
        position: absolute;
        top: 10px;
        right: 15px;
        font-size: 28px;
        cursor: pointer;
        color: white;
        line-height: 1;
        background: none;
        border: none;
        padding: 0;
        font-weight: bold;
    }

    .custom-alert-box p {
        font-size: 20px;
        font-weight: bold;
        margin: 0;
        padding-right: 20px;
        opacity: 0;
        transform: translateY(20px);
        animation: textSlideIn 0.8s ease-out forwards;
        animation-delay: 0.4s;
    }

    @keyframes textSlideIn {
      0% {
        opacity: 0;
        transform: translateY(20px);
      }
      100% {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes slideInAlert {
        0% {
            opacity: 0;
            transform: translate(-50%, -50%) translateY(-50px);
        }
        70% {
            opacity: 1;
            transform: translate(-50%, -50%) translateY(10px);
        }
        100% {
            transform: translate(-50%, -50%) translateY(0);
        }
    }
  </style>
</head>
<body>
  <div class="header">
    <div class="profile-info">
      <div class="profile-logo"><img src="images/logo2.png" alt="User Icon"></div>
      <div class="username-balance">
        <div class="username">Rakib360</div>
        <button class="balance-button" id="balanceBtn">Tap to Balance</button>
      </div>
    </div>
    <div class="right-icons">
       <a href="dashboard.html" class="home-button"><i class="fas fa-home"></i></a>
       <a href="home.html" class="logout-button"><i class="fas fa-sign-out-alt"></i></a>
    </div>
  </div>
  <div class="marquee-strip">
    <i class="fas fa-bell"></i>
    <div class="marquee-content" id="dynamicMarqueeText">আমরাই একমাত্র কোনো ডকুমেন্টস ছাড়া লোন দিচ্ছি, লোনের পরিমান সর্বনিম্ন ৫০০০ টাকা সর্বোচ্চ ৩০০০০ টাকা এবং পরিশোধের সময় যথাক্রমে ৩ মাস, ৬ মাস, ৯ মাস এবং ১২ মাস পর্যন্ত ধন্যবাদ।</div>
  </div>

  <div class="custom-slider">
    <div class="slides-wrapper" id="slidesWrapper">
      <div class="slide-item" style="background-image: url('images/slider1.jpeg');">
        <div class="slide-text-container">
          <div class="slide-text">আপনার প্রয়োজনীয় সকল লোন সার্ভিস পেতে আমাদের সাথে থাকুন।</div>
        </div>
      </div>
      <div class="slide-item" style="background-image: url('images/slider2.jpeg');">
        <div class="slide-text-container">
          <div class="slide-text">কম সুদে লোন নিন, সহজ কিস্তিতে পরিশোধ করুন।</div>
        </div>
      </div>
      <div class="slide-item" style="background-image: url('images/slider3.jpeg');">
        <div class="slide-text-container">
          <div class="slide-text">আপনার আর্থিক প্রয়োজন মেটাতে আমরা আছি আপনার পাশে।</div>
        </div>
      </div>
      <div class="slide-item" style="background-image: url('images/slider4.jpeg');">
        <div class="slide-text-container">
          <div class="slide-text">দ্রুত লোন পেতে আজই রেজিস্ট্রেশন করুন।</div>
        </div>
      </div>
      <div class="slide-item" style="background-image: url('images/slider5.jpeg');">
        <div class="slide-text-container">
          <div class="slide-text">যেকোনো প্রয়োজনে আমাদের সাপোর্ট টিমের সাথে যোগাযোগ করুন।</div>
        </div>
      </div>
    </div>
    <div class="slider-controls">
      <button class="control-arrow prev-arrow" onclick="changeSlide(-1)">&#10094;</button>
      <button class="control-arrow next-arrow" onclick="changeSlide(1)">&#10095;</button>
    </div>
    <div class="pagination-dots" id="paginationDots"></div>
  </div>
  <div class="section">
    <h2>ঋণের পরিমাণ</h2>
    <div class="loan-options">
      <button onclick="setAmount(5000)" class="active">৳৫০০০</button>
      <button onclick="setAmount(10000)">৳১০০০০</button>
      <button onclick="setAmount(15000)">৳১৫০০০</button>
      <button onclick="setAmount(20000)">৳২০০০০</button>
      <button onclick="setAmount(25000)">৳২৫০০০</button>
      <button onclick="setAmount(30000)">৳৩০০০০</button>
    </div>
    <div class="amount-display" id="amountDisplay">৳৫০০০</div>
    <input type="range" min="5000" max="30000" step="5000" value="5000" id="amountRange" />

    <div class="loan-terms">
      <h3>ঋণের মেয়াদ (মাস)</h3>
      <button data-term="3">৩ মাস</button>
      <button data-term="6">৬ মাস</button>
      <button data-term="9">৯ মাস</button>
      <button data-term="12">১২ মাস</button>
    </div>

    <div class="loan-details-section" id="loanDetailsSection">
      <div class="loan-detail-item">
        <span>জামানত:</span>
        <span><span id="jamineAmount">৳৫০০</span></span>
      </div>
      <div class="loan-detail-item">
        <span>সুদের হার:</span>
        <span><span id="interestRate">৫%</span></span>
      </div>
      <div class="loan-detail-item">
        <span>মোট কিস্তি সংখ্যা:</span>
        <span><span id="totalInstallments">৩টি</span></span>
      </div>
      <div class="loan-detail-item">
        <span>প্রতি কিস্তির পরিমাণ:</span>
        <span><span id="installmentAmount">৳১৭৫০</span></span>
      </div>
      <div class="loan-detail-item">
        <span>মোট পরিশোধযোগ্য:</span>
        <span><span id="totalPayable">৳৫২৫০</span></span>
      </div>
    </div>

    <button class="apply-btn" id="applyBtn"><i class="fas fa-paper-plane"></i> Apply Now</button>

    <div class="custom-alert-overlay" id="customAlertOverlay">
      <div class="custom-alert-box" id="customAlertBox">
        <button class="close-btn" id="closeAlertBtn">&times;</button>
        <p>অনুগ্রহ করে জামানতের টাকা ডিপোজিট করে আবার চেষ্টা করুন!</p>
      </div>
    </div>
  </div>

  <div class="section">
    <h2>My Trustloan360</h2>
    <div class="features">
      <a href="deposit.html" class="feature-item">
          <i class="fas fa-arrow-down"></i><br>Deposit
      </a>
      <a href="withdraw.html" class="feature-item">
          <i class="fas fa-arrow-up"></i><br>Cash Out
      </a>
      <a href="profile.html" class="feature-item">
          <i class="fas fa-user"></i><br>Profile
      </a>
      <a href="dashboard.html" class="feature-item"><i class="fas fa-list"></i><br>Dp History</a>
      <a href="dashboard.html" class="feature-item"><i class="fas fa-list"></i><br>Wd History</a>
      <a href="dashboard.html" class="feature-item"><i class="fas fa-question-circle"></i><br>Help</a>
    </div>
  </div>

  <div class="section">
    <h2>Contact</h2>
    <div class="contact">
      <a href="dashboard.html" class="tiktok"><i class="fab fa-tiktok"></i></a>
      <a href="dashboard.html" class="whatsapp"><i class="fab fa-whatsapp"></i></a>
      <a href="dashboard.html" class="youtube"><i class="fab fa-youtube"></i></a>
      <a href="dashboard.html" class="telegram"><i class="fab fa-telegram"></i></a>
    </div>
  </div>

  <div class="section">
    <h2>Our Partner</h2>
    <div class="partners">
      <div>
        <a href="dashboard.html">
          <img src="images/islami.jpeg" alt="Islami"><br>Islami
        </a>
      </div>
      <div>
        <a href="dashboard.html">
          <img src="images/datchbangla.jpeg" alt="Dutch-Bangla Bank"><br>Dutch-Bangla
        </a>
      </div>
      <div>
        <a href="dashboard.html">
          <img src="images/sonali.jpeg" alt="Sonali Bank"><br>Sonali
        </a>
      </div>
      <div>
        <a href="dashboard.html">
          <img src="images/cellfin.jpeg" alt="CellFin"><br>CellFin
        </a>
      </div>
      <div>
        <a href="dashboard.html">
          <img src="images/tbl.jpeg" alt="Trust Bank Ltd"><br>Trust Bank
        </a>
      </div>
      <div>
        <a href="dashboard.html">
          <img src="images/bkash.jpeg" alt="Bkash"><br>Bkash
        </a>
      </div>
      <div>
        <a href="dashboard.html">
          <img src="images/nagod.jpeg" alt="Nagad"><br>Nagad
        </a>
      </div>
      <div>
        <a href="dashboard.html">
          <img src="images/nagod1.jpeg" alt="Nagad (Old)"><br>Nagad (Old)
        </a>
      </div>
      <div>
        <a href="dashboard.html">
          <img src="images/brackbank.jpeg" alt="Brack Bank"><br>Brack Bank </a>
      </div>
      <div>
        <a href="dashboard.html">
          <img src="images/ashabank.jpeg" alt="Asha Bank"><br>Asha Bank </a>
      </div>
    </div>
  </div>

  <footer>
    &copy; 2025 Bankloan65. All rights reserved.
  </footer>

  <script>
    // Balance Button Logic
    const balanceButton = document.getElementById("balanceBtn");
    if (balanceButton) {
      balanceButton.addEventListener("click", () => {
        balanceButton.textContent = "৳ ০.০০";
        setTimeout(() => {
          balanceButton.textContent = "Tap to Balance";
        }, 2000);
      });
    }

    // Logout Button Logic
    const logoutButton = document.querySelector('.header .logout-button');
    if (logoutButton) {
      logoutButton.addEventListener('click', (event) => {
        event.preventDefault();
        console.log('Logout clicked');
        window.location.href = 'home.html';
      });
    }

    // Loan Application Logic
    const range = document.getElementById('amountRange');
    const display = document.getElementById('amountDisplay');
    const loanAmountButtons = document.querySelectorAll('.loan-options button');
    const loanTermButtons = document.querySelectorAll('.loan-terms button');
    const loanDetailsSection = document.getElementById('loanDetailsSection');
    const applyBtn = document.getElementById('applyBtn');
    const customAlertOverlay = document.getElementById('customAlertOverlay');
    const customAlertBox = document.getElementById('customAlertBox');
    const closeAlertBtn = document.getElementById('closeAlertBtn');

    const jamineAmount = document.getElementById('jamineAmount');
    const interestRate = document.getElementById('interestRate');
    const totalInstallments = document.getElementById('totalInstallments');
    const installmentAmount = document.getElementById('installmentAmount');
    const totalPayable = document.getElementById('totalPayable');

    function convertToEnglishNumber(bengaliNumberString) {
      return bengaliNumberString
        .replace(/০/g, '0')
        .replace(/১/g, '1')
        .replace(/২/g, '2')
        .replace(/৩/g, '3')
        .replace(/৪/g, '4')
        .replace(/৫/g, '5')
        .replace(/৬/g, '6')
        .replace(/৭/g, '7')
        .replace(/৮/g, '8')
        .replace(/৯/g, '9');
    }

    function setAmount(value) {
      range.value = value;
      display.innerText = '৳' + value.toLocaleString('bn-BD');
      loanAmountButtons.forEach(btn => {
        btn.classList.remove('active');
        const btnValue = parseInt(convertToEnglishNumber(btn.innerText.replace('৳', '').replace(/,/g, '')));
        if (btnValue === value) {
          btn.classList.add('active');
        }
      });
      if (document.querySelector('.loan-terms button.active')) {
        updateLoanDetails(document.querySelector('.loan-terms button.active').dataset.term);
      }
    }

    range.addEventListener('input', () => {
      display.innerText = '৳' + parseInt(range.value).toLocaleString('bn-BD');
      loanAmountButtons.forEach(btn => btn.classList.remove('active'));
      const currentRangeValue = parseInt(range.value);
      loanAmountButtons.forEach(btn => {
        const btnValue = parseInt(convertToEnglishNumber(btn.innerText.replace('৳', '').replace(/,/g, '')));
        if (btnValue === currentRangeValue) {
          btn.classList.add('active');
        }
      });
      if (document.querySelector('.loan-terms button.active')) {
        updateLoanDetails(document.querySelector('.loan-terms button.active').dataset.term);
      }
    });

    function updateLoanDetails(term) {
      const currentLoanAmount = parseInt(range.value);
      let calculatedJamine = 0;
      let calculatedInterestRate = 0;
      let calculatedTotalInstallments = 0;
      let calculatedInstallmentAmount = 0;
      let calculatedTotalPayable = 0;

      switch (parseInt(term)) {
        case 3:
          calculatedJamine = Math.round(currentLoanAmount * 0.10);
          calculatedInterestRate = 5;
          calculatedTotalInstallments = 3;
          calculatedTotalPayable = currentLoanAmount + (currentLoanAmount * calculatedInterestRate / 100);
          calculatedInstallmentAmount = Math.ceil(calculatedTotalPayable / calculatedTotalInstallments);
          break;
        case 6:
          calculatedJamine = Math.round(currentLoanAmount * 0.10);
          calculatedInterestRate = 8;
          calculatedTotalInstallments = 6;
          calculatedTotalPayable = currentLoanAmount + (currentLoanAmount * calculatedInterestRate / 100);
          calculatedInstallmentAmount = Math.ceil(calculatedTotalPayable / calculatedTotalInstallments);
          break;
        case 9:
          calculatedJamine = Math.round(currentLoanAmount * 0.10);
          calculatedInterestRate = 10;
          calculatedTotalInstallments = 9;
          calculatedTotalPayable = currentLoanAmount + (currentLoanAmount * calculatedInterestRate / 100);
          calculatedInstallmentAmount = Math.ceil(calculatedTotalPayable / calculatedTotalInstallments);
          break;
        case 12:
          calculatedJamine = Math.round(currentLoanAmount * 0.10);
          calculatedInterestRate = 12;
          calculatedTotalInstallments = 12;
          calculatedTotalPayable = currentLoanAmount + (currentLoanAmount * calculatedInterestRate / 100);
          calculatedInstallmentAmount = Math.ceil(calculatedTotalPayable / calculatedTotalInstallments);
          break;
        default:
          calculatedJamine = Math.round(currentLoanAmount * 0.10);
          calculatedInterestRate = 5;
          calculatedTotalInstallments = 3;
          calculatedTotalPayable = currentLoanAmount + (currentLoanAmount * calculatedInterestRate / 100);
          calculatedInstallmentAmount = Math.ceil(calculatedTotalPayable / calculatedTotalInstallments);
      }

      jamineAmount.innerText = `৳${calculatedJamine.toLocaleString('bn-BD')}`;
      interestRate.innerText = `${calculatedInterestRate.toLocaleString('bn-BD')}%`;
      totalInstallments.innerText = `${calculatedTotalInstallments.toLocaleString('bn-BD')}টি`;
      installmentAmount.innerText = `৳${calculatedInstallmentAmount.toLocaleString('bn-BD')}`;
      totalPayable.innerText = `৳${calculatedTotalPayable.toLocaleString('bn-BD')}`;
    }

    loanTermButtons.forEach(button => {
      button.addEventListener('click', () => {
        loanTermButtons.forEach(btn => btn.classList.remove('active'));
        button.classList.add('active');
        loanDetailsSection.classList.add('show');
        const selectedTerm = button.dataset.term;
        updateLoanDetails(selectedTerm);
      });
    });

    applyBtn.addEventListener('click', () => {
      const headerElement = document.querySelector('.header');
      const sectionElement = document.querySelector('.section');
      const applyButtonRect = applyBtn.getBoundingClientRect();
      const headerRect = headerElement.getBoundingClientRect();
      const sectionRect = sectionElement.getBoundingClientRect();

      const middleY = (headerRect.bottom + applyButtonRect.top) / 2;
      const middleX = (applyButtonRect.left + applyButtonRect.right) / 2;

      const alertTop = middleY - sectionRect.top;
      const alertLeft = middleX - sectionRect.left;

      customAlertBox.style.top = `${alertTop}px`;
      customAlertBox.style.left = `${alertLeft}px`;

      customAlertOverlay.classList.add('show');
      customAlertBox.style.animation = 'none';
      customAlertBox.offsetHeight;
      customAlertBox.style.animation = '';
    });

    closeAlertBtn.addEventListener('click', () => {
      customAlertOverlay.classList.remove('show');
    });

    customAlertOverlay.addEventListener('click', (event) => {
        if (event.target === customAlertOverlay) {
            customAlertOverlay.classList.remove('show');
        }
    });

    // Marquee Text Logic (starts immediately)
    document.addEventListener('DOMContentLoaded', () => {
      // Loan application defaults
      const defaultTermButton = document.querySelector('.loan-terms button[data-term="3"]');
      if (defaultTermButton) {
        defaultTermButton.classList.add('active');
        updateLoanDetails(defaultTermButton.dataset.term);
      }
      setAmount(5000);
    });


    // স্লাইডার JavaScript
    const slidesWrapper = document.getElementById('slidesWrapper'); /* Changed from slidesContainer */
    const slideItems = document.querySelectorAll('.custom-slider .slide-item'); /* Changed selector */
    const paginationDotsContainer = document.getElementById('paginationDots');
    let currentSlideIndex = 0;
    let autoSlideInterval;
    const slideIntervalTime = 3000; // 3 সেকেন্ড

    function createDots() {
      paginationDotsContainer.innerHTML = '';
      slideItems.forEach((_, index) => {
        const dot = document.createElement('span');
        dot.classList.add('dot');
        if (index === 0) {
          dot.classList.add('active');
        }
        dot.addEventListener('click', () => {
          goToSlide(index);
        });
        paginationDotsContainer.appendChild(dot);
      });
    }

    function goToSlide(index) {
      if (index < 0) {
        index = slideItems.length - 1;
      } else if (index >= slideItems.length) {
        index = 0;
      }

      currentSlideIndex = index;
      const offset = -currentSlideIndex * 100;
      slidesWrapper.style.transform = `translateX(${offset}%)`;

      updateDots();
      resetAutoSlide();
    }

    function changeSlide(direction) {
      goToSlide(currentSlideIndex + direction);
    }

    function updateDots() {
      const dots = document.querySelectorAll('.custom-slider .dot'); /* Changed selector */
      dots.forEach((dot, index) => {
        if (index === currentSlideIndex) {
          dot.classList.add('active');
        } else {
          dot.classList.remove('active');
        }
      });
    }

    function startAutoSlide() {
      autoSlideInterval = setInterval(() => {
        goToSlide(currentSlideIndex + 1);
      }, slideIntervalTime);
    }

    function resetAutoSlide() {
      clearInterval(autoSlideInterval);
      startAutoSlide();
    }

    // Slider Initialization (for the image slider)
    document.addEventListener('DOMContentLoaded', () => {
      if (slidesWrapper && slideItems.length > 0 && paginationDotsContainer) {
           createDots();
           goToSlide(0);
           startAutoSlide();
      }
    });
  </script>
</body>
</html>
